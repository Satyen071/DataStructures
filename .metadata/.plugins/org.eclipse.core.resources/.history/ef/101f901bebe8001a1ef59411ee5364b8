package StackandQueue;

import java.io.IOException;
import java.util.*;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;  
public class JavaTimerScheduleAtFixedRateExample1 {  
   public static void main(String[] args) {  
// creating timer task, timer  
Timer timer = new Timer();  
ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();

TimerTask task = new TimerTask() {
	long counter = 60000;
@Override
public void run() {
 counter-=10000;
 System.out.println("counter "+counter);
      if (counter==0) {
       System.out.println("No file received " + Calendar.getInstance().getTime() +" "+ counter );
       System.out.println("Current Thread name " + Thread.currentThread().getName());
       counter = 60000;
      }
  }
};

executor.scheduleAtFixedRate(task, 1000L, 5000L, TimeUnit.MILLISECONDS);      
   }  
}
  
